{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8084","description":"Generated server url"}],"tags":[{"name":"Produto Estoque","description":"Gerenciamento de produtos em estoque"},{"name":"Produto Entrada Estoque","description":"Gerenciamento de entradas de produtos no estoque"}],"paths":{"/estoque/{id}":{"get":{"tags":["Produto Estoque"],"summary":"Buscar produto em estoque por ID","description":"Retorna detalhes de um produto específico no estoque","operationId":"buscarPorId","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProdutoEstoqueResponseDTO"}}}}},"security":[{"bearerAuth":[]}]},"put":{"tags":["Produto Estoque"],"summary":"Atualizar estoque mínimo","description":"Atualiza a quantidade mínima de estoque de um produto","operationId":"atualizarEstoqueMinimo","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"estoqueMinimo","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProdutoEstoqueResponseDTO"}}}}},"security":[{"bearerAuth":[]}]}},"/estoque/movimentacoes":{"get":{"tags":["movimentacao-estoque-controller"],"operationId":"listarMovimentacoes","parameters":[{"name":"produtoCatalogoId","in":"query","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"tipo","in":"query","required":false,"schema":{"type":"string","enum":["ENTRADA","SAIDA"]}},{"name":"dataInicio","in":"query","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"dataFim","in":"query","required":false,"schema":{"type":"string","format":"date-time"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MovimentacaoEstoqueResponseDTO"}}}}}},"security":[{"bearerAuth":[]}]},"post":{"tags":["movimentacao-estoque-controller"],"operationId":"registrarMovimentacao","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MovimentacaoEstoqueRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MovimentacaoEstoqueResponseDTO"}}}}},"security":[{"bearerAuth":[]}]}},"/estoque/entradas":{"get":{"tags":["Produto Entrada Estoque"],"summary":"Listar todas as entradas de estoque","description":"Retorna histórico de entradas de produtos","operationId":"listarEntradas","parameters":[{"name":"produtoCatalogoId","in":"query","required":false,"schema":{"type":"integer","format":"int64"}},{"name":"dataInicio","in":"query","required":false,"schema":{"type":"string","format":"date-time"}},{"name":"dataFim","in":"query","required":false,"schema":{"type":"string","format":"date-time"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProdutoEntradaEstoqueResponseDTO"}}}}}},"security":[{"bearerAuth":[]}]},"post":{"tags":["Produto Entrada Estoque"],"summary":"Registrar entrada de produtos no estoque","description":"Registra a entrada de uma ou mais unidades de um produto","operationId":"registrarEntrada","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProdutoEntradaEstoqueRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProdutoEntradaEstoqueResponseDTO"}}}}},"security":[{"bearerAuth":[]}]}},"/estoque":{"get":{"tags":["Produto Estoque"],"summary":"Listar todos os produtos em estoque","description":"Retorna lista completa de produtos no estoque","operationId":"listarTodos","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProdutoEstoqueResponseDTO"}}}}}},"security":[{"bearerAuth":[]}]}},"/estoque/saldo/{produtoId}":{"get":{"tags":["Produto Estoque"],"summary":"Obter saldo consolidado (legado)","description":"Endpoint legado para obter saldo consolidado","operationId":"obterSaldo","parameters":[{"name":"produtoId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProdutoEstoqueResponseDTO"}}}}},"security":[{"bearerAuth":[]}]}},"/estoque/produto/{produtoCatalogoId}":{"get":{"tags":["Produto Estoque"],"summary":"Buscar estoque por produto do catálogo","description":"Retorna o estoque de um produto específico do catálogo","operationId":"buscarPorProdutoCatalogo","parameters":[{"name":"produtoCatalogoId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProdutoEstoqueResponseDTO"}}}}},"security":[{"bearerAuth":[]}]}},"/estoque/movimentacoes/{id}":{"get":{"tags":["movimentacao-estoque-controller"],"operationId":"buscarPorId_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MovimentacaoEstoqueResponseDTO"}}}}},"security":[{"bearerAuth":[]}]}},"/estoque/entradas/{id}":{"get":{"tags":["Produto Entrada Estoque"],"summary":"Buscar entrada de estoque por ID","description":"Retorna detalhes de uma entrada específica","operationId":"buscarPorId_2","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProdutoEntradaEstoqueResponseDTO"}}}}},"security":[{"bearerAuth":[]}]}},"/estoque/buscar":{"get":{"tags":["Produto Estoque"],"summary":"Buscar produtos em estoque por termo","description":"Busca produtos cujo nome contenha o termo informado","operationId":"buscarPorTermo","parameters":[{"name":"termo","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProdutoEstoqueResponseDTO"}}}}}},"security":[{"bearerAuth":[]}]}},"/estoque/baixo-estoque":{"get":{"tags":["Produto Estoque"],"summary":"Listar produtos com estoque baixo","description":"Retorna produtos com quantidade abaixo do estoque mínimo","operationId":"listarBaixoEstoque","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ProdutoEstoqueResponseDTO"}}}}}},"security":[{"bearerAuth":[]}]}}},"components":{"schemas":{"ProdutoEstoqueResponseDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"nomeProduto":{"type":"string"},"codigoProduto":{"type":"string"},"quantidadeDisponivel":{"type":"integer","format":"int32"},"quantidadeReservada":{"type":"integer","format":"int32"},"quantidadeTotal":{"type":"integer","format":"int32"},"estoqueMinimo":{"type":"integer","format":"int32"},"baixoEstoque":{"type":"boolean"},"ultimaAtualizacao":{"type":"string","format":"date-time"},"precoCustoMedio":{"type":"number"},"precoMedioSugerido":{"type":"number"},"produtoCatalogoId":{"type":"integer","format":"int64"},"produtoId":{"type":"integer","format":"int64"}}},"MovimentacaoEstoqueRequestDTO":{"type":"object","properties":{"produtoCatalogoId":{"type":"integer","format":"int64"},"tipoMovimentacao":{"type":"string","enum":["ENTRADA","SAIDA"]},"quantidade":{"type":"integer","format":"int32","minimum":1},"precoUnitario":{"type":"number","minimum":0.0},"observacao":{"type":"string"}},"required":["produtoCatalogoId","quantidade","tipoMovimentacao"]},"MovimentacaoEstoqueResponseDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"produtoId":{"type":"integer","format":"int64"},"tipo":{"type":"string","enum":["ENTRADA","SAIDA"]},"quantidade":{"type":"integer","format":"int32"},"precoUnitario":{"type":"number"},"dataMovimentacao":{"type":"string","format":"date-time"},"observacao":{"type":"string"}}},"ProdutoEntradaEstoqueRequestDTO":{"type":"object","properties":{"produtoCatalogoId":{"type":"integer","format":"int64"},"quantidade":{"type":"integer","format":"int32","minimum":1},"precoUnitario":{"type":"number","minimum":0.01},"numeroNotaFiscal":{"type":"string"},"fornecedor":{"type":"string"},"observacoes":{"type":"string"}},"required":["precoUnitario","produtoCatalogoId","quantidade"]},"ProdutoEntradaEstoqueResponseDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"produtoCatalogoId":{"type":"integer","format":"int64"},"nomeProduto":{"type":"string"},"quantidade":{"type":"integer","format":"int32"},"precoUnitario":{"type":"number"},"valorTotal":{"type":"number"},"numeroNotaFiscal":{"type":"string"},"fornecedor":{"type":"string"},"observacoes":{"type":"string"},"dataEntrada":{"type":"string","format":"date-time"},"usuarioRegistro":{"type":"string"}}}}}}